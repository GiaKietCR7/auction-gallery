<%- include('partials/head', { title: 'Edit item' }) %>
<div class="container mx-auto max-w-3xl py-10">
  <h1 class="text-2xl font-bold mb-4">Edit: <%= item.title %></h1>
  <form method="post" action="/items/<%= item.id %>/update" class="space-y-3">
    <input name="title" value="<%= item.title %>" class="border rounded px-3 py-2 w-full" />
    <textarea name="description" class="border rounded px-3 py-2 w-full" rows="5"><%= item.description %></textarea>
    <div class="grid grid-cols-2 gap-3">
      <input name="start_price" type="number" step="0.01" value="<%= item.start_price %>" class="border rounded px-3 py-2 w-full" />
      <input name="min_increment" type="number" step="0.01" value="<%= item.min_increment %>" class="border rounded px-3 py-2 w-full" />
    </div>
    <input name="end_time" type="datetime-local"
           value="<%= item.end_time ? new Date(item.end_time).toISOString().slice(0,16) : '' %>"
           class="border rounded px-3 py-2 w-full" />
    <select name="status" class="border rounded px-3 py-2">
      <option value="active"  <%= item.status==='active' ? 'selected':'' %>>active</option>
      <option value="closed"  <%= item.status==='closed' ? 'selected':'' %>>closed</option>
      <option value="draft"   <%= item.status==='draft'  ? 'selected':'' %>>draft</option>
    </select>
    <div class="flex gap-2">
      <button class="px-4 py-2 bg-black text-white rounded">Save</button>
      <a href="/item/<%= item.id %>" class="px-3 py-2 border rounded">Cancel</a>
    </div>
  </form>
</div>
<%- include('partials/foot') %>